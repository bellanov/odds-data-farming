# Define jobs that run to completion.
apiVersion: batch/v1
kind: CronJob
metadata:
  name: americanfootball-ncaaf-american
  namespace: americanfootball-ncaaf
spec:
  schedule: "*/2 * * * *"
  jobTemplate:
    spec:
      template:
        spec:
          containers:
            - name: americanfootball-ncaaf-american
              image: bellanov/odds-data-farming
              command: ["npm", "run", "odds-account"]
              envFrom:
                # The ConfigMap needs to exist in the namespace before this job runs.
                - configMapRef:
                    name: odds-data-poc
          restartPolicy: Never
---
apiVersion: batch/v1
kind: CronJob
metadata:
  name: americanfootball-ncaaf-decimal
  namespace: americanfootball-ncaaf
spec:
  schedule: "*/2 * * * *"
  jobTemplate:
    spec:
      template:
        spec:
          containers:
            - name: americanfootball-ncaaf-decimal
              image: bellanov/odds-data-farming
              command: ["npm", "run", "odds-account"]
              envFrom:
                # The ConfigMap needs to exist in the namespace before this job runs.
                - configMapRef:
                    name: odds-data-poc
          restartPolicy: Never
---
apiVersion: batch/v1
kind: CronJob
metadata:
  name: americanfootball-nfl-american
  namespace: americanfootball-nfl
spec:
  schedule: "*/2 * * * *"
  jobTemplate:
    spec:
      template:
        spec:
          containers:
            - name: americanfootball-nfl-american
              image: bellanov/odds-data-farming
              command: ["npm", "run", "odds-account"]
              envFrom:
                # The ConfigMap needs to exist in the namespace before this job runs.
                - configMapRef:
                    name: odds-data-poc
          restartPolicy: Never
---
apiVersion: batch/v1
kind: CronJob
metadata:
  name: americanfootball-nfl-decimal
  namespace: americanfootball-nfl
spec:
  schedule: "*/2 * * * *"
  jobTemplate:
    spec:
      template:
        spec:
          containers:
            - name: americanfootball-nfl-decimal
              image: bellanov/odds-data-farming
              command: ["npm", "run", "odds-account"]
              envFrom:
                # The ConfigMap needs to exist in the namespace before this job runs.
                - configMapRef:
                    name: odds-data-poc
          restartPolicy: Never
